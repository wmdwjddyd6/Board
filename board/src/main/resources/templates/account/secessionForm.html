<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	<!-- Custom styles for this template -->
	<title>회원탈퇴</title>
	<link type="text/css" href="/css/signin.css" rel="stylesheet">
</head>

<body class="text-center">
	<main class="form-signin">
		<a href="/"><img src="/img/logo.png" alt="home" width="220" height="160"></a>
		<h1 sec:authentication="name" class="mb-4 fw-normal">Username</h1>

		<form th:action="@{/account/secession}" method="post" name="secessionForm" onsubmit="return CheckForm(this)">
			<div class="form-floating">
				<input type="password" class="form-control mt-2" name="password" id="floatingPassword"
					placeholder="Password">
				<label for="floatingPassword">암호를 입력해주세요.</label>
			</div>
			<div th:if="${param.error}">
				<p class="alert alert-danger">암호를 정확히 입력해주세요.</p>
			</div>
			<div class="checkbox mt-3 mb-3">
				<label>
					<input type="checkbox" name="check" value="agreement"> 정말 탈퇴하시겠습니까?
				</label>
			</div>

			<div class="nav justify-content-end">
				<button class="mt-3 w-100 btn btn-lg btn-danger" type="submit">회원탈퇴</button>
			</div>
		</form>
	</main>
	<script type="text/javascript">
		// 체크박스 체크여부 확인
		function CheckForm(secession) {
			var chk = document.secessionForm.check.checked;

			if (!chk) {
				alert("체크박스를 체크해주세요.");
				return false;
			}
		}
	</script>
</body>

</html>